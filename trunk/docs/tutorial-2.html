<html>
<head>
  <title>Gosu - Tutorial</title>
  <link rel="stylesheet" type="text/css" href="gosu.css" />
  <script type="text/javascript" language="Javascript" src="tutorial.js"></script>
</head>

<body class="rightSide" onLoad="showLang('cpp')">

<h1>Gosu::Window Basics</h1>

<a href="javaScript:showLang('cpp')">show C++ version</a> - <a href="javaScript:showLang('ruby')">show Ruby version</a>

<div class="cpp">
  <h2>Needed Headers</h2>
  <pre>
  #include &lt;AutoLink.hpp&gt;
  #include &lt;AutoLinkMain.hpp&gt;
  #include &lt;Window.hpp&gt;
  </pre>
</div>

<h2>Overriding Window's Callbacks</h2>
<p>
  The easiest way to create a complete Gosu application is to write a new class that derives from Gosu::Window (see the reference for a complete description of its interface). Here's how a minimal GameWindow class might look like:
</p>
<div class="cpp"><p><pre>
class GameWindow : public Gosu::Window
{
public:
    GameWindow()
    : Window(640, 480, false, 20)
    {
        setCaption(L"Gosu Tutorial Game");
    }

    void update()
    {
    }

    void draw()
    {
    }
};
</pre></p></div>
<div class="ruby"><p><pre>
class GameWindow &lt; Gosu::Window
  def initialize
    super(640, 480, false, 20)
    self.caption = "Gosu Tutorial Game"
  end

  def update
  end

  def draw
  end
end
</pre></p></div>
<p>
  The constructor initializes the Gosu::Window base class. The parameters shown here create a 640x480 pixels large, non-fullscreen (that's what the "false" stands for) window that will be updated every 20 milliseconds. Then it changes the window's caption, which is empty until then.
</p>
<p>
  update() and draw() are overrides of Gosu::Window's (in C++, virtual) member functions. update() is called every 20 milliseconds here and should contain the main game logic (move objects etc.). 20 is the recommended value; values which are not multiples of 10 do not properly work on all platforms right now.
</p>
<p>
  draw() is called afterwards and whenever the window needs redrawing for other reasons and should contain the rendering code.<br />
</p>
<p>
  Before we start filling these member functions with code, we need code to actually create and display the window:
</p>

<h2>The Main Program</h2>
<p>
  Since GameWindow will do most of the work, our main program is rather minimal:
</p>
<div class="cpp"><p><pre>
int main(int argc, char* argv[])
{
    GameWindow window;
    window.show();
    return 0;
}</pre></p></div>
<div class="ruby"><p><pre>
  window = GameWindow.new
  window.show
</pre></p></div>
<p>
  That's it. A window is created and its show() member function is called, which does not return until the window has been closed by the user or its own code.
</p>
<p>
  As you can see (if you actually run the code of lesson #2), the code so far creates a small black window that does nothing until the user closes it. Yay!
</p>

</body>
</html> 